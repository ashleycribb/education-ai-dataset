<!-- lms_frontend_flask/templates/index.html -->
{% extends "base.html" %}

{% block title %}LMS Home - Platform{% endblock %}

{% block navigation %}
    <h3>Courses</h3>
    {% if navigation_items %}
    <ul>
        {% for course in navigation_items %}
        <li>
            <strong>{{ course.title }}</strong>
            {% if course.modules %}
            <ul>
                {% for module in course.modules %}
                <li>
                    {# Use course_ext_id and module_ext_id for URL generation #}
                    <a href="{{ url_for('show_module_activities', course_ext_id=course.course_ext_id, module_ext_id=module.module_ext_id) }}">
                        {{ module.title }}
                    </a>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <p><small>No modules in this course yet.</small></p>
            {% endif %}
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No courses available yet.</p>
    {% endif %}
{% endblock %}

{% block content %}
    <h1>Welcome to the Learning Platform!</h1>
    <p>Please select a module from the navigation panel on the left to get started.</p>
{% endblock %}

{% block ai_chat %}
    <div id="chat-history" style="height: 300px; border: 1px solid #eee; overflow-y: scroll; padding: 10px; margin-bottom:10px;">
        <p><em>AI Assistant will appear here when you start an activity.</em></p>
    </div>
    <div id="chat-input-area">
        <input type="text" id="student-input" style="width: calc(100% - 60px); padding: 8px;" placeholder="Type your message..." disabled>
        <button id="send-button" style="padding: 8px;" disabled>Send</button>
    </div>
{% endblock %}
